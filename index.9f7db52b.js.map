{"mappings":"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","sources":["<anon>","src/scripts/main.js","node_modules/@swc/helpers/esm/_to_consumable_array.js","node_modules/@swc/helpers/esm/_array_without_holes.js","node_modules/@swc/helpers/esm/_array_like_to_array.js","node_modules/@swc/helpers/esm/_iterable_to_array.js","node_modules/@swc/helpers/esm/_non_iterable_spread.js","node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js"],"sourcesContent":["(function () {\nfunction $c3b10a83b523f372$export$79e617b1955a2616(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n\n\nfunction $c50969dc1df61e8b$export$7e0947b5ad3404e2(arr) {\n    if (Array.isArray(arr)) return (0, $c3b10a83b523f372$export$79e617b1955a2616)(arr);\n}\n\n\nfunction $09c9f293d010c0e1$export$1eb58a6e75231000(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\n\nfunction $38c2d4931cb7a7c4$export$e6f3c4780d19eb2b() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n\n\nfunction $d4f69c5c6c4654b1$export$a5be06335b3a083c(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, $c3b10a83b523f372$export$79e617b1955a2616)(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, $c3b10a83b523f372$export$79e617b1955a2616)(o, minLen);\n}\n\n\nfunction $227c6742e0ff6f82$export$1b5e630bc3aea29f(arr) {\n    return (0, $c50969dc1df61e8b$export$7e0947b5ad3404e2)(arr) || (0, $09c9f293d010c0e1$export$1eb58a6e75231000)(arr) || (0, $d4f69c5c6c4654b1$export$a5be06335b3a083c)(arr) || (0, $38c2d4931cb7a7c4$export$e6f3c4780d19eb2b)();\n}\n\n\n\"use strict\";\nvar $197cd56b15c33885$var$sizeAllBoxes = 4;\nvar $197cd56b15c33885$var$allBoxes = (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)(Array($197cd56b15c33885$var$sizeAllBoxes)).map(function() {\n    return Array($197cd56b15c33885$var$sizeAllBoxes).fill(0);\n});\nvar $197cd56b15c33885$var$score = 0;\nvar $197cd56b15c33885$var$statusWinner = false;\nvar $197cd56b15c33885$var$boxes = document.querySelectorAll(\".field-cell\");\nvar $197cd56b15c33885$var$startButton = document.getElementById(\"start-button\");\nvar $197cd56b15c33885$var$needKeys = [\n    \"ArrowLeft\",\n    \"ArrowRight\",\n    \"ArrowUp\",\n    \"ArrowDown\"\n];\nvar $197cd56b15c33885$var$message = {\n    Start: document.getElementById(\"message-start\"),\n    Lose: document.getElementById(\"message-lose\"),\n    Winner: document.getElementById(\"message-win\")\n};\n/// Стврюєм початок : Викликаєм Функцію startGame\n$197cd56b15c33885$var$startButton.addEventListener(\"click\", $197cd56b15c33885$var$startGame);\nfunction $197cd56b15c33885$var$startGame() {\n    $197cd56b15c33885$var$resetGame();\n    $197cd56b15c33885$var$changeButton();\n    $197cd56b15c33885$var$addRandomField($197cd56b15c33885$var$allBoxes);\n    $197cd56b15c33885$var$addRandomField($197cd56b15c33885$var$allBoxes);\n    $197cd56b15c33885$var$drawallBoxes($197cd56b15c33885$var$allBoxes, $197cd56b15c33885$var$boxes);\n}\n/// Це зброс гри для початку\nvar $197cd56b15c33885$var$resetGame = function() {\n    $197cd56b15c33885$var$score = 0;\n    $197cd56b15c33885$var$statusWinner = false;\n    document.querySelector(\".game-score\").innerText = $197cd56b15c33885$var$score;\n    /// Чи обов'язково створювати повторно allBoxes , адже Він є рядок 2\n    $197cd56b15c33885$var$allBoxes = (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)(Array($197cd56b15c33885$var$sizeAllBoxes)).map(function() {\n        return Array($197cd56b15c33885$var$sizeAllBoxes).fill(0);\n    });\n    $197cd56b15c33885$var$message.Winner.classList.add(\"hidden\");\n    $197cd56b15c33885$var$message.Lose.classList.add(\"hidden\");\n};\nfunction $197cd56b15c33885$var$addRandomField(allBoxesArray) {\n    var emptyboxes = [];\n    allBoxesArray.forEach(function(row, roWinnerdex) {\n        row.forEach(function(value, colIndex) {\n            value === 0 && emptyboxes.push({\n                roWinnerdex: roWinnerdex,\n                colIndex: colIndex\n            });\n        });\n    });\n    if (emptyboxes.length > 0) {\n        var randomIndex = Math.floor(Math.random() * emptyboxes.length);\n        var randomCell = emptyboxes[randomIndex];\n        // randomCell зберіг коп кординат,числа кординат яких фіксуєм allBoxesArray\n        allBoxesArray[randomCell.roWinnerdex][randomCell.colIndex] = Math.random() < 0.9 ? 2 : 4;\n    }\n}\nvar $197cd56b15c33885$var$drawallBoxes = function(allBoxesArray, curboxes) {\n    allBoxesArray.forEach(function(row, roWinnerd) {\n        row.forEach(function(value, colInd) {\n            /// Проходимось по всім клітинам\n            var cell = curboxes[roWinnerd * allBoxesArray.length + colInd];\n            if (value > 0) {\n                cell.textContent = value;\n                cell.classList = \"field-cell\" + \" field-cell--\".concat(value);\n            } else {\n                cell.textContent = null;\n                cell.classList = \"field-cell\";\n            }\n        });\n    });\n};\nvar $197cd56b15c33885$var$changeButton = function() {\n    $197cd56b15c33885$var$startButton.classList += \" restart\";\n    $197cd56b15c33885$var$startButton.innerText = \"Restart\";\n    $197cd56b15c33885$var$startButton.style = \"border: 2px solid red; color: #776e65; outline: none;\";\n    $197cd56b15c33885$var$message.Start.classList.add(\"hidden\");\n};\n/// спрацьовує виклик при нажатті\ndocument.addEventListener(\"keyup\", function(e) {\n    if (!$197cd56b15c33885$var$needKeys.includes(e.key) || $197cd56b15c33885$var$statusWinner) return;\n    /// ???\n    var copieBoxes = JSON.parse(JSON.stringify($197cd56b15c33885$var$allBoxes));\n    switch(e.key){\n        case \"ArrowLeft\":\n            $197cd56b15c33885$var$slideLeft();\n            $197cd56b15c33885$var$getWinnerMessage($197cd56b15c33885$var$allBoxes);\n            $197cd56b15c33885$var$getLoseMessage($197cd56b15c33885$var$allBoxes);\n            break;\n        case \"ArrowRight\":\n            $197cd56b15c33885$var$slideRight();\n            $197cd56b15c33885$var$getWinnerMessage($197cd56b15c33885$var$allBoxes);\n            $197cd56b15c33885$var$getLoseMessage($197cd56b15c33885$var$allBoxes);\n            break;\n        case \"ArrowUp\":\n            $197cd56b15c33885$var$slideUp();\n            $197cd56b15c33885$var$getWinnerMessage($197cd56b15c33885$var$allBoxes);\n            $197cd56b15c33885$var$getLoseMessage($197cd56b15c33885$var$allBoxes);\n            break;\n        case \"ArrowDown\":\n            $197cd56b15c33885$var$slideDown();\n            $197cd56b15c33885$var$getWinnerMessage($197cd56b15c33885$var$allBoxes);\n            $197cd56b15c33885$var$getLoseMessage($197cd56b15c33885$var$allBoxes);\n            break;\n        default:\n            break;\n    }\n    document.querySelector(\".game-score\").innerText = $197cd56b15c33885$var$score;\n    if ($197cd56b15c33885$var$isMoved(copieBoxes)) {\n        $197cd56b15c33885$var$addRandomField($197cd56b15c33885$var$allBoxes);\n        $197cd56b15c33885$var$drawallBoxes($197cd56b15c33885$var$allBoxes, $197cd56b15c33885$var$boxes);\n    }\n});\nvar $197cd56b15c33885$var$isMoved = function(copieBoxes) {\n    for(var r = 0; r < $197cd56b15c33885$var$sizeAllBoxes; r++)for(var c = 0; c < $197cd56b15c33885$var$sizeAllBoxes; c++){\n        if (copieBoxes[r][c] !== $197cd56b15c33885$var$allBoxes[r][c]) return true;\n    }\n    return false;\n};\nvar $197cd56b15c33885$var$slideLeft = function() {\n    $197cd56b15c33885$var$allBoxes = $197cd56b15c33885$var$allBoxes.map(function(row) {\n        return $197cd56b15c33885$var$slide(row);\n    });\n};\nvar $197cd56b15c33885$var$slideRight = function() {\n    $197cd56b15c33885$var$allBoxes = $197cd56b15c33885$var$allBoxes.map(function(row) {\n        return $197cd56b15c33885$var$slide(row.reverse()).reverse();\n    });\n};\nfunction $197cd56b15c33885$var$slideUp() {\n    /// Зберігаємо зміну трансформуючи рядок в колонку\n    var columns = $197cd56b15c33885$var$prepareColumns($197cd56b15c33885$var$allBoxes);\n    $197cd56b15c33885$var$allBoxes = $197cd56b15c33885$var$prepareColumns(columns.map(function(col) {\n        return $197cd56b15c33885$var$slide(col);\n    }));\n}\nfunction $197cd56b15c33885$var$slideDown() {\n    var columns = $197cd56b15c33885$var$prepareColumns($197cd56b15c33885$var$allBoxes);\n    columns = columns.map(function(col) {\n        return $197cd56b15c33885$var$slide(col.reverse()).reverse();\n    });\n    $197cd56b15c33885$var$allBoxes = $197cd56b15c33885$var$prepareColumns(columns);\n}\nvar $197cd56b15c33885$var$deleteZeros = function(row) {\n    return row.filter(Boolean);\n};\nvar $197cd56b15c33885$var$slide = function(row) {\n    var rowClear = $197cd56b15c33885$var$deleteZeros(row);\n    var newRow = rowClear;\n    for(var i = 0; i < newRow.length - 1; i++)if (newRow[i] === newRow[i + 1]) {\n        newRow[i] *= 2;\n        newRow[i + 1] = 0;\n        $197cd56b15c33885$var$score += newRow[i];\n    }\n    newRow = $197cd56b15c33885$var$deleteZeros(newRow);\n    while(newRow.length < 4)newRow.push(0);\n    return newRow;\n};\nfunction $197cd56b15c33885$var$prepareColumns(allBoxesArr) {\n    return allBoxesArr.map(function(row, roWinnerd, rowArr) {\n        return row.map(function(_, colInd) {\n            return rowArr[colInd][roWinnerd];\n        });\n    });\n}\nvar $197cd56b15c33885$var$getWinnerMessage = function(allBoxesArray) {\n    allBoxesArray.forEach(function(row) {\n        row.forEach(function(cell) {\n            if (cell >= 2048) {\n                $197cd56b15c33885$var$statusWinner = true;\n                $197cd56b15c33885$var$message.Start.classList.remove(\"hidden\");\n            }\n        });\n    });\n};\nfunction $197cd56b15c33885$var$getLoseMessage() {\n    if ($197cd56b15c33885$var$isallBoxesFull() && !$197cd56b15c33885$var$canMakeMove()) $197cd56b15c33885$var$message.Lose.classList.remove(\"hidden\");\n}\nfunction $197cd56b15c33885$var$isallBoxesFull() {\n    return $197cd56b15c33885$var$allBoxes.every(function(row) {\n        return row.every(function(tile) {\n            return tile !== 0;\n        });\n    });\n}\nfunction $197cd56b15c33885$var$canMakeMove() {\n    for(var r = 0; r < $197cd56b15c33885$var$sizeAllBoxes; r++)for(var c = 0; c < $197cd56b15c33885$var$sizeAllBoxes; c++){\n        var value = $197cd56b15c33885$var$allBoxes[r][c];\n        if (value !== 0) {\n            if (r < 3 && value === $197cd56b15c33885$var$allBoxes[r + 1][c]) return true;\n            if (c < 3 && value === $197cd56b15c33885$var$allBoxes[r][c + 1]) return true;\n        }\n    }\n    return false;\n}\n\n})();\n//# sourceMappingURL=index.9f7db52b.js.map\n","'use strict';\n\nconst sizeAllBoxes = 4;\nlet allBoxes = [...Array(sizeAllBoxes)].map(() => Array(sizeAllBoxes).fill(0));\nlet score = 0;\nlet statusWinner = false;\nconst boxes = document.querySelectorAll('.field-cell');\nconst startButton = document.getElementById('start-button');\nconst needKeys = ['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'];\nconst message = {\n  Start: document.getElementById('message-start'),\n  Lose: document.getElementById('message-lose'),\n  Winner: document.getElementById('message-win'),\n};\n/// Стврюєм початок : Викликаєм Функцію startGame\n\nstartButton.addEventListener('click', startGame);\n\nfunction startGame() {\n  resetGame();\n  changeButton();\n  addRandomField(allBoxes);\n  addRandomField(allBoxes);\n  drawallBoxes(allBoxes, boxes);\n}\n/// Це зброс гри для початку\n\nconst resetGame = () => {\n  score = 0;\n  statusWinner = false;\n  document.querySelector('.game-score').innerText = score;\n  /// Чи обов'язково створювати повторно allBoxes , адже Він є рядок 2\n  allBoxes = [...Array(sizeAllBoxes)].map(() => Array(sizeAllBoxes).fill(0));\n  message.Winner.classList.add('hidden');\n  message.Lose.classList.add('hidden');\n};\n\nfunction addRandomField(allBoxesArray) {\n  const emptyboxes = [];\n\n  allBoxesArray.forEach((row, roWinnerdex) => {\n    row.forEach((value, colIndex) => {\n      value === 0 && emptyboxes.push({\n        roWinnerdex, colIndex,\n      });\n    });\n  });\n\n  if (emptyboxes.length > 0) {\n    const randomIndex = Math.floor(Math.random() * emptyboxes.length);\n    const randomCell = emptyboxes[randomIndex];\n\n    // randomCell зберіг коп кординат,числа кординат яких фіксуєм allBoxesArray\n\n    allBoxesArray[randomCell.roWinnerdex][randomCell.colIndex]\n      = Math.random() < 0.9 ? 2 : 4;\n  }\n}\n\nconst drawallBoxes = (allBoxesArray, curboxes) => {\n  allBoxesArray.forEach((row, roWinnerd) => {\n    row.forEach((value, colInd) => {\n      /// Проходимось по всім клітинам\n      const cell = curboxes[roWinnerd * allBoxesArray.length + colInd];\n\n      if (value > 0) {\n        cell.textContent = value;\n        cell.classList = 'field-cell' + ` field-cell--${value}`;\n      } else {\n        cell.textContent = null;\n        cell.classList = 'field-cell';\n      }\n    });\n  });\n};\n\nconst changeButton = () => {\n  startButton.classList += ' restart';\n  startButton.innerText = 'Restart';\n  startButton.style = 'border: 2px solid red; color: #776e65; outline: none;';\n  message.Start.classList.add('hidden');\n};\n/// спрацьовує виклик при нажатті\n\ndocument.addEventListener('keyup', e => {\n  if (!needKeys.includes(e.key) || statusWinner) {\n    return;\n  }\n  /// ???\n\n  const copieBoxes = JSON.parse(JSON.stringify(allBoxes));\n\n  switch (e.key) {\n    case 'ArrowLeft':\n      slideLeft();\n      getWinnerMessage(allBoxes);\n      getLoseMessage(allBoxes);\n      break;\n\n    case 'ArrowRight':\n      slideRight();\n      getWinnerMessage(allBoxes);\n      getLoseMessage(allBoxes);\n      break;\n\n    case 'ArrowUp':\n      slideUp();\n      getWinnerMessage(allBoxes);\n      getLoseMessage(allBoxes);\n      break;\n\n    case 'ArrowDown':\n      slideDown();\n      getWinnerMessage(allBoxes);\n      getLoseMessage(allBoxes);\n      break;\n\n    default:\n      break;\n  }\n\n  document.querySelector('.game-score').innerText = score;\n\n  if (isMoved(copieBoxes)) {\n    addRandomField(allBoxes);\n    drawallBoxes(allBoxes, boxes);\n  }\n});\n\nconst isMoved = (copieBoxes) => {\n  for (let r = 0; r < sizeAllBoxes; r++) {\n    for (let c = 0; c < sizeAllBoxes; c++) {\n      if (copieBoxes[r][c] !== allBoxes[r][c]) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\nconst slideLeft = () => {\n  allBoxes = allBoxes.map(row => slide(row));\n};\n\nconst slideRight = () => {\n  allBoxes = allBoxes.map(row => slide(row.reverse()).reverse());\n};\n\nfunction slideUp() {\n  /// Зберігаємо зміну трансформуючи рядок в колонку\n  const columns = prepareColumns(allBoxes);\n\n  allBoxes = prepareColumns(columns.map(col => slide(col)));\n}\n\nfunction slideDown() {\n  let columns = prepareColumns(allBoxes);\n\n  columns = columns.map(col => slide(col.reverse()).reverse());\n\n  allBoxes = prepareColumns(columns);\n};\n\nconst deleteZeros = row => row.filter(Boolean);\n\nconst slide = row => {\n  const rowClear = deleteZeros(row);\n  let newRow = rowClear;\n\n  for (let i = 0; i < newRow.length - 1; i++) {\n    if (newRow[i] === newRow[i + 1]) {\n      newRow[i] *= 2;\n      newRow[i + 1] = 0;\n      score += newRow[i];\n    }\n  }\n  newRow = deleteZeros(newRow);\n\n  while (newRow.length < 4) {\n    newRow.push(0);\n  }\n\n  return newRow;\n};\n\nfunction prepareColumns(allBoxesArr) {\n  return allBoxesArr.map((row, roWinnerd, rowArr) => {\n    return row.map((_, colInd) => {\n      return rowArr[colInd][roWinnerd];\n    });\n  });\n}\n\nconst getWinnerMessage = (allBoxesArray) => {\n  allBoxesArray.forEach(row => {\n    row.forEach(cell => {\n      if (cell >= 2048) {\n        statusWinner = true;\n        message.Start.classList.remove('hidden');\n      }\n    });\n  });\n};\n\nfunction getLoseMessage() {\n  if (isallBoxesFull() && !canMakeMove()) {\n    message.Lose.classList.remove('hidden');\n  }\n};\n\nfunction isallBoxesFull() {\n  return allBoxes.every(row => row.every(tile => tile !== 0));\n}\n\nfunction canMakeMove() {\n  for (let r = 0; r < sizeAllBoxes; r++) {\n    for (let c = 0; c < sizeAllBoxes; c++) {\n      const value = allBoxes[r][c];\n\n      if (value !== 0) {\n        if (r < 3 && value === allBoxes[r + 1][c]) {\n          return true;\n        };\n\n        if (c < 3 && value === allBoxes[r][c + 1]) {\n          return true;\n        };\n      }\n    }\n  }\n\n  return false;\n}\n","import { _array_without_holes } from \"./_array_without_holes.js\";\nimport { _iterable_to_array } from \"./_iterable_to_array.js\";\nimport { _non_iterable_spread } from \"./_non_iterable_spread.js\";\nimport { _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nexport function _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nexport { _to_consumable_array as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nexport { _array_without_holes as _ };\n","export function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n}\nexport { _array_like_to_array as _ };\n","export function _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) {\n        return Array.from(iter);\n    }\n}\nexport { _iterable_to_array as _ };\n","export function _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _non_iterable_spread as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nexport { _unsupported_iterable_to_array as _ };\n"],"names":["$c3b10a83b523f372$export$79e617b1955a2616","arr","len","length","i","arr2","Array","$227c6742e0ff6f82$export$1b5e630bc3aea29f","isArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","TypeError","$197cd56b15c33885$var$allBoxes","map","fill","$197cd56b15c33885$var$score","$197cd56b15c33885$var$statusWinner","$197cd56b15c33885$var$boxes","document","querySelectorAll","$197cd56b15c33885$var$startButton","getElementById","$197cd56b15c33885$var$needKeys","$197cd56b15c33885$var$message","Start","Lose","Winner","addEventListener","$197cd56b15c33885$var$resetGame","$197cd56b15c33885$var$changeButton","$197cd56b15c33885$var$addRandomField","$197cd56b15c33885$var$drawallBoxes","querySelector","innerText","classList","add","allBoxesArray","emptyboxes","forEach","row","roWinnerdex","value","colIndex","push","randomIndex","Math","floor","random","randomCell","curboxes","roWinnerd","colInd","cell","textContent","concat","style","e","includes","key","columns","copieBoxes","JSON","parse","stringify","$197cd56b15c33885$var$slideLeft","$197cd56b15c33885$var$getWinnerMessage","$197cd56b15c33885$var$getLoseMessage","$197cd56b15c33885$var$slideRight","$197cd56b15c33885$var$prepareColumns","col","$197cd56b15c33885$var$slide","reverse","$197cd56b15c33885$var$isMoved","r","c","$197cd56b15c33885$var$deleteZeros","filter","Boolean","newRow","allBoxesArr","rowArr","_","remove","every","tile","$197cd56b15c33885$var$canMakeMove"],"version":3,"file":"index.9f7db52b.js.map"}